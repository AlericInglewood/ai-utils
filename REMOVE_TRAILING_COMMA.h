#pragma once

// The following was generated using the program:
#if 0
#include <string>
#include <iostream>
#include <sstream>

std::string args1_N(int n)
{
  std::ostringstream ss;
  char const* prefix = "_";
  for (int a = 1; a <= n; ++a)
  {
    ss << prefix << a;
    prefix = ",_";
  }
  return ss.str();
}

int main()
{
  int const max_args = 32;

  for (int n = 1; n <= max_args + 1; ++n)
    std::cout << "#define REMOVE_TRAILING_COMMA_" << n << "(" << args1_N(n) <<
      ") \\\n                                " << args1_N(n - 1) << std::endl;
  std::cout << "#define REMOVE_TRAILING_COMMA_N(" << args1_N(max_args + 1) << ",N,...) \\\n" <<
    "        REMOVE_TRAILING_COMMA_##N\n";
  std::cout << "#define REMOVE_TRAILING_COMMA(...) \\\n" <<
    "        REMOVE_TRAILING_COMMA_N(__VA_ARGS__";
  for (int a = max_args + 1; a > 0; --a)
    std::cout << "," << a;
  std::cout << ")(__VA_ARGS__)" << std::endl;
}
#endif

#define REMOVE_TRAILING_COMMA_1(_1) \
                                
#define REMOVE_TRAILING_COMMA_2(_1,_2) \
                                _1
#define REMOVE_TRAILING_COMMA_3(_1,_2,_3) \
                                _1,_2
#define REMOVE_TRAILING_COMMA_4(_1,_2,_3,_4) \
                                _1,_2,_3
#define REMOVE_TRAILING_COMMA_5(_1,_2,_3,_4,_5) \
                                _1,_2,_3,_4
#define REMOVE_TRAILING_COMMA_6(_1,_2,_3,_4,_5,_6) \
                                _1,_2,_3,_4,_5
#define REMOVE_TRAILING_COMMA_7(_1,_2,_3,_4,_5,_6,_7) \
                                _1,_2,_3,_4,_5,_6
#define REMOVE_TRAILING_COMMA_8(_1,_2,_3,_4,_5,_6,_7,_8) \
                                _1,_2,_3,_4,_5,_6,_7
#define REMOVE_TRAILING_COMMA_9(_1,_2,_3,_4,_5,_6,_7,_8,_9) \
                                _1,_2,_3,_4,_5,_6,_7,_8
#define REMOVE_TRAILING_COMMA_10(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9
#define REMOVE_TRAILING_COMMA_11(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10
#define REMOVE_TRAILING_COMMA_12(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11
#define REMOVE_TRAILING_COMMA_13(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12
#define REMOVE_TRAILING_COMMA_14(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13
#define REMOVE_TRAILING_COMMA_15(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14
#define REMOVE_TRAILING_COMMA_16(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15
#define REMOVE_TRAILING_COMMA_17(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16
#define REMOVE_TRAILING_COMMA_18(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17
#define REMOVE_TRAILING_COMMA_19(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18
#define REMOVE_TRAILING_COMMA_20(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19
#define REMOVE_TRAILING_COMMA_21(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20
#define REMOVE_TRAILING_COMMA_22(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21
#define REMOVE_TRAILING_COMMA_23(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22
#define REMOVE_TRAILING_COMMA_24(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23
#define REMOVE_TRAILING_COMMA_25(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24
#define REMOVE_TRAILING_COMMA_26(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25
#define REMOVE_TRAILING_COMMA_27(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26
#define REMOVE_TRAILING_COMMA_28(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27
#define REMOVE_TRAILING_COMMA_29(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28
#define REMOVE_TRAILING_COMMA_30(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_30) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29
#define REMOVE_TRAILING_COMMA_31(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_30,_31) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_30
#define REMOVE_TRAILING_COMMA_32(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_30,_31,_32) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_30,_31
#define REMOVE_TRAILING_COMMA_33(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_30,_31,_32,_33) \
                                _1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_30,_31,_32
#define REMOVE_TRAILING_COMMA_N(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_30,_31,_32,_33,N,...) \
        REMOVE_TRAILING_COMMA_##N
#define REMOVE_TRAILING_COMMA(...) \
        REMOVE_TRAILING_COMMA_N(__VA_ARGS__,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1)(__VA_ARGS__)

